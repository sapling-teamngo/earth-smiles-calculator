<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญุงุณุจุฉ ุงูุงุจุชุณุงูุงุช ุงูุฃุฑุถูุฉ - ุญุตุงุฏ ูุงุฆู ูุณุชุฏุงู</title>
    <link rel="stylesheet" href="css/ar-style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">๐ ุญุงุณุจุฉ ุงูุงุจุชุณุงูุงุช ุงูุฃุฑุถูุฉ</div>
            <ul>
                <li><a href="index.html">English</a></li>
                <li><a href="research.html">ุงููุฑูุฉ ุงูุจุญุซูุฉ</a></li>
                <li><a href="documentation.html">ุงูุชูุซูู</a></li>
                <li><a href="#" onclick="showSection('calculator')">ุงูุญุงุณุจุฉ</a></li>
                <li><a href="#" onclick="showSection('home')">ุงูุฑุฆูุณูุฉ</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="home" class="section active">
            <div class="hero">
                <h1>ุญุงุณุจุฉ ุงูุงุจุชุณุงูุงุช ุงูุฃุฑุถูุฉ</h1>
                <p>ุชุตููู ุฃุญูุงุถ ูุตู ุฏุงุฆุฑูุฉ ูุซุงููุฉ ูุญุตุงุฏ ุงูููุงู ูุญูุธ ุงูุชุฑุจุฉ ุจุงุณุชุฎุฏุงู ูููุฌูุฉ WOCAT</p>
                <button class="cta-button" onclick="showSection('calculator')">ุจุฏุก ุงูุญุณุงุจ</button>
            </div>
            <div class="features">
                <div class="feature-card">
                    <h3>ูุจููุฉ ุนูู WOCAT</h3>
                    <p>ุจุงุณุชุฎุฏุงู ูููุฌูุงุช ูุซุจุชุฉ ูู ุงููุฑุงุฌุนุฉ ุงูุนุงูููุฉ ูููุฌ ูุชูููุงุช ุงูุญูุธ</p>
                </div>
                <div class="feature-card">
                    <h3>ุชุตููู ุนููู</h3>
                    <p>ุญุณุงุจุงุช ุฏูููุฉ ุจูุงุกู ุนูู ูุทูู ุงูุฃูุทุงุฑุ ุงูุงูุญุฏุงุฑุ ููุนุงููุงุช ุงูุชุฑุจุฉ</p>
                </div>
                <div class="feature-card">
                    <h3>ูุชุนุฏุฏุฉ ุงููุบุงุช</h3>
                    <p>ูุชุงุญุฉ ุจุงููุบุชูู ุงูุฅูุฌููุฒูุฉ ูุงูุนุฑุจูุฉ ูุชุณููู ุงููุตูู</p>
                </div>
            </div>
        </section>

        <section id="calculator" class="section">
            <div class="calculator-container">
                <div class="progress-bar">
                    <div class="step active" data-step="1">ุฅุฏุฎุงู ุงูููุทูุฉ</div>
                    <div class="step" data-step="2">ุงูุจูุงูุงุช ุงูููุงุฎูุฉ</div>
                    <div class="step" data-step="3">ุงููุชุงุฆุฌ</div>
                    <div class="step" data-step="4">ุงูุชุตูุฑ ุงูุจุตุฑู</div>
                </div>

                <!-- Step 1: Area Input -->
                <div class="step-content active" id="step1-content">
                    <h2>ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ููุทูุชู</h2>
                    <div class="input-methods">
                        <div class="method-card" onclick="selectMethod('map')">
                            <h3>๐บ๏ธ ุงุฎุชูุงุฑ ุงูุฎุฑูุทุฉ</h3>
                            <p>ุงููุฑ ุนูู ุงูุฎุฑูุทุฉ ูุชุญุฏูุฏ ูุถูุน</p>
                        </div>
                        <div class="method-card" onclick="selectMethod('manual')">
                            <h3>๐ ุฅุฏุฎุงู ูุฏูู</h3>
                            <p>ุฃุฏุฎู ุงูุฅุญุฏุงุซูุงุช ูุฏููุงู</p>
                        </div>
                        <div class="method-card" onclick="selectMethod('simple')">
                            <h3>๐ ุฅุฏุฎุงู ูุจุณุท</h3>
                            <p>ุฃุฏุฎู ุงููุณุงุญุฉ ูุงูุงูุญุฏุงุฑ ูุจุงุดุฑุฉ</p>
                        </div>
                    </div>

                    <div id="map-container" class="method-content hidden">
                        <h3>ุงููุฑ ุนูู ุงูุฎุฑูุทุฉ ูุฅูุดุงุก ูุถูุน</h3>
                        <div id="map" style="height: 400px; width: 100%; margin: 20px 0;"></div>
                        <div class="button-group">
                            <button onclick="clearMap()">ูุณุญ</button>
                            <button onclick="calculateAreaFromMap()">ุญุณุงุจ ุงููุณุงุญุฉ ูุงูุงูุญุฏุงุฑ</button>
                        </div>
                    </div>

                    <div id="manual-input" class="method-content hidden">
                        <h3>ุฃุฏุฎู ุงูุฅุญุฏุงุซูุงุช (ุฎุท ุงูุทููุ ุฎุท ุงูุนุฑุถ)</h3>
                        <div id="coordinate-inputs">
                            <div class="coord-pair">
                                <input type="number" class="coord-lat" placeholder="ุฎุท ุงูุนุฑุถ" step="any">
                                <input type="number" class="coord-lng" placeholder="ุฎุท ุงูุทูู" step="any">
                                <button onclick="removeCoordinate(this)">ุฅุฒุงูุฉ</button>
                            </div>
                        </div>
                        <div class="button-group">
                            <button onclick="addCoordinate()">ุฅุถุงูุฉ ุฅุญุฏุงุซู</button>
                            <button onclick="calculateAreaFromCoords()">ุญุณุงุจ ุงููุณุงุญุฉ ูุงูุงูุญุฏุงุฑ</button>
                        </div>
                    </div>

                    <div id="simple-input" class="method-content hidden">
                        <h3>ุฅุฏุฎุงู ูุจุงุดุฑ</h3>
                        <div class="input-group">
                            <label>ุงููุณุงุญุฉ ุงููููุฉ (ููุชุงุฑ):</label>
                            <input type="number" id="total-area" step="0.1" min="0.1" value="1.0">
                        </div>
                        <div class="input-group">
                            <label>ูุชูุณุท ุงูุงูุญุฏุงุฑ (%):</label>
                            <input type="number" id="avg-slope" step="0.1" min="0" max="60" value="5.0">
                        </div>
                        <button onclick="proceedToStep2()">ุงูุชุงูู</button>
                    </div>

                    <div id="step1-results" class="method-content hidden">
                        <h3>โ ุงูุชูู ุชุญููู ุงูููุทูุฉ</h3>
                        <div class="results">
                            <p>ุงููุณุงุญุฉ ุงููููุฉ: <span id="calculated-area">0</span> ููุชุงุฑ</p>
                            <p>ูุชูุณุท ุงูุงูุญุฏุงุฑ: <span id="calculated-slope">0</span>%</p>
                            <p>ุชุตููู ุงูุงูุญุฏุงุฑ: <span id="slope-class">ููุจุณุท</span></p>
                        </div>
                        <button onclick="proceedToStep2()">ุงููุชุงุจุนุฉ ุฅูู ุงูุฎุทูุฉ 2</button>
                    </div>
                </div>

                <!-- Step 2: Climate Data -->
                <div class="step-content" id="step2-content">
                    <h2>ุงูุฎุทูุฉ 2: ุงูุจูุงูุงุช ุงูููุงุฎูุฉ ูุงูุชุฑุจุฉ</h2>
                    <form id="climate-form">
                        <div class="form-group">
                            <label for="rainfall">ูุทูู ุงูุฃูุทุงุฑ ุงูุณููู (ูู):</label>
                            <input type="number" id="rainfall" required min="100" max="3000" value="1025">
                            <small>ุงููุตุฏุฑ: ุจูุงูุงุช WOCAT ุจูููู ุชุธูุฑ ูุชูุณุท 1025 ูู. ุงุถุจุท ูููุทูุชู.</small>
                        </div>
                        <div class="form-group">
                            <label for="soil-type">ููุน ุงูุชุฑุจุฉ:</label>
                            <select id="soil-type">
                                <option value="sandy">ุชุฑุจุฉ ุฑูููุฉ (ุฎุดูุฉ/ุฎูููุฉ)</option>
                                <option value="loamy" selected>ุชุฑุจุฉ ุทูููุฉ (ูุชูุณุทุฉ)</option>
                                <option value="clay">ุชุฑุจุฉ ุทูููุฉ (ูุงุนูุฉ/ุซูููุฉ)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="land-use">ุงุณุชุฎุฏุงู ุงูุฃุฑุถ:</label>
                            <select id="land-use">
                                <option value="orchard">ุจุณุชุงู ููุงูู (ุญูุถูุงุชุ ูุงุฌู)</option>
                                <option value="pasture">ุฅุนุงุฏุฉ ุชุฃููู ุงููุฑุงุนู</option>
                                <option value="cropland">ุฃุฑุงุถู ุฒุฑุงุนูุฉ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="organic-matter">ูุญุชูู ุงููุงุฏุฉ ุงูุนุถููุฉ:</label>
                            <select id="organic-matter">
                                <option value="low">ููุฎูุถ (&lt;1%)</option>
                                <option value="medium" selected>ูุชูุณุท (1-3%)</option>
                                <option value="high">ูุฑุชูุน (&gt;3%)</option>
                            </select>
                        </div>
                        <div class="button-group">
                            <button type="button" onclick="showSection('calculator', 1)">ุฑุฌูุน</button>
                            <button type="button" onclick="calculateDesign()">ุญุณุงุจ ุงูุชุตููู</button>
                        </div>
                    </form>
                </div>

                <!-- Step 3: Results -->
                <div class="step-content" id="step3-content">
                    <h2>ุงูุฎุทูุฉ 3: ูุชุงุฆุฌ ุชุตููู ุงูุงุจุชุณุงูุงุช ุงูุฃุฑุถูุฉ</h2>
                    <div id="results-container" class="results-grid"></div>
                    <div class="button-group">
                        <button onclick="showSection('calculator', 2)">ุฑุฌูุน</button>
                        <button onclick="proceedToStep4()">ุนุฑุถ ุงูุชุตูุฑ ุงูุจุตุฑู</button>
                    </div>
                </div>

                <!-- Step 4: Visualization -->
                <div class="step-content" id="step4-content">
                    <h2>ุงูุฎุทูุฉ 4: ุงูุชุตูุฑ ุงูุจุตุฑู ููุชุตููู</h2>
                    <div id="visualization-container">
                        <div class="viz-controls">
                            <label>ุนุฑุถ: </label>
                            <select id="view-type" onchange="updateVisualization()">
                                <option value="single">ูููู ูุฑุฏู</option>
                                <option value="layout">ุชุฎุทูุท ุงูุญูู</option>
                                <option value="cross-section">ููุทุน ุนุฑุถู</option>
                            </select>
                        </div>
                        <canvas id="design-canvas" width="800" height="400"></canvas>
                        <div id="layout-info" class="layout-details"></div>
                    </div>
                    <div class="button-group">
                        <button onclick="showSection('calculator', 3)">ุฑุฌูุน</button>
                        <button onclick="generateReport()">ุชูุฑูุฑ ุงููุดุฑูุน</button>
                        <button onclick="resetCalculator()">ุญุณุงุจ ุฌุฏูุฏ</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>ยฉ 2024 ุญุงุณุจุฉ ุงูุงุจุชุณุงูุงุช ุงูุฃุฑุถูุฉ. ูุจููุฉ ุนูู ูููุฌูุงุช WOCAT.</p>
        <p>ุทูุฑุช ุจูุงุณุทุฉ: ุนูุฑ ูุงุณููุ ูุฑูู ูุฌุงุฌุฑุฉุ ููุงุฏู ููุณู | ุชุญุช ุฅุดุฑุงู: ุฏ. ุฃูุฌุฏ ุดุทูุงูู</p>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/calculator.js"></script>
    <script src="js/visualization.js"></script>
</body>
</html>
